<!DOCTYPE html>
<html lang="fr">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Algorithmique et Programmation 1</title>
    <link rel="stylesheet" href="./ap1.css">
    <link rel="stylesheet" href="./atom-one-dark.min.css">
    <link rel="stylesheet" href="./atom-one-light.min.css">
    <script src="theme-switcher.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
</head>

<body>
<header>
<a id="theme-switcher" href="#dark" aria-label="Switch to Light Mode" class="contrast">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 19a1 1 0 0 1 .993 .883l.007 .117v1a1 1 0 0 1 -1.993 .117l-.007 -.117v-1a1 1 0 0 1 1 -1z" stroke-width="0" fill="currentColor"></path><path d="M18.313 16.91l.094 .083l.7 .7a1 1 0 0 1 -1.32 1.497l-.094 -.083l-.7 -.7a1 1 0 0 1 1.218 -1.567l.102 .07z" stroke-width="0" fill="currentColor"></path><path d="M7.007 16.993a1 1 0 0 1 .083 1.32l-.083 .094l-.7 .7a1 1 0 0 1 -1.497 -1.32l.083 -.094l.7 -.7a1 1 0 0 1 1.414 0z" stroke-width="0" fill="currentColor"></path><path d="M4 11a1 1 0 0 1 .117 1.993l-.117 .007h-1a1 1 0 0 1 -.117 -1.993l.117 -.007h1z" stroke-width="0" fill="currentColor"></path><path d="M21 11a1 1 0 0 1 .117 1.993l-.117 .007h-1a1 1 0 0 1 -.117 -1.993l.117 -.007h1z" stroke-width="0" fill="currentColor"></path><path d="M6.213 4.81l.094 .083l.7 .7a1 1 0 0 1 -1.32 1.497l-.094 -.083l-.7 -.7a1 1 0 0 1 1.217 -1.567l.102 .07z" stroke-width="0" fill="currentColor"></path><path d="M19.107 4.893a1 1 0 0 1 .083 1.32l-.083 .094l-.7 .7a1 1 0 0 1 -1.497 -1.32l.083 -.094l.7 -.7a1 1 0 0 1 1.414 0z" stroke-width="0" fill="currentColor"></path><path d="M12 2a1 1 0 0 1 .993 .883l.007 .117v1a1 1 0 0 1 -1.993 .117l-.007 -.117v-1a1 1 0 0 1 1 -1z" stroke-width="0" fill="currentColor"></path><path d="M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z" stroke-width="0" fill="currentColor"></path></svg>
</a>
<h1><a href="index.html">Algo-Prog 1</a> : <a href="index.html#Chap3">Chapitre 3</a> : <a href="index.html#Chap3Seance20">Séance 20</a> : <a href="s20_2.html">Examen de 2023-24 - exercice 2</a></h1>
</header>
<main>
<div style="font-size: x-large;">
	&check; Correction : <a href="s20_2.go">s20_2.go</a>
</div>
<h2 id="génération-de-poèmes-10-pts">Génération de poèmes (10 pts)</h2>
<h3 id="consignes-générales-pour-lexercice">Consignes générales pour
l’exercice</h3>
<p>Dans cet exercice, et pour finir le semestre sur une note culturelle,
nous allons écrire un programme qui génère aléatoirement des poèmes à
partir d’une base de mots fournie.</p>
<p>Toutes les fonctions demandées doivent être implantées dans le
fichier <a href="poemes.go">poemes.go</a> qui fournit un squelette du
code attendu ainsi que des affichages de test dans la fonction
<code>main</code>.</p>
<p>Si vous appelez le programme simplement sans paramètre
(<code>go run poemes.go</code>), il lancera les tests sur le fichier
<code>poemes1.txt</code>, qui est assez court pour permettre de vérifier
facilement que votre code fonctionne.</p>
<p>Si vous ajoutez un nom de fichier en paramètre sur la ligne de
commande (par exemple : <code>go run poemes.go poemes2.txt</code>),
c’est ce fichier qui sera utilisé par les tests du programme
principal.</p>
<p>On fournit deux fichiers textes contenant des bases de mots pour
mettre au point votre code : <a href="poemes1.txt">poemes1.txt</a> et <a
href="poemes2.txt">poemes2.txt</a>. On supposera que les fichiers
fournis sont corrects : on ne vous demande pas de gérer d’éventuelles
erreurs dans les fichiers d’entrées.</p>
<h3 id="première-partie">Première partie</h3>
<h4 id="question-1-2-pts">Question 1 <em>(2 pts)</em></h4>
<p>Compléter la fonction
<code>lirePaquetsMots(nomFichier string) map[int][]string</code> qui
doit lire un fichier texte contenant des mots et renvoyer une
<em>map</em> contenant ces mots selon le format décrit ci-après.</p>
<p>Par exemple, le fichier <code>poemes1.txt</code> contient :</p>
<pre class="text"><code>il fait beau
son sang est chaud
elle descend dans le métro

sur le plateau
pour les verseaux

du Sornin
</code></pre>
<p>On appelle paquet de mots une succession de mots terminée par une
ligne vide. Dans l’exemple ci-dessus, il y a donc trois paquets de mots
:</p>
<ol type="1">
<li>« il fait beau son sang est chaud elle descend dans le métro » est
un paquet de mots ;</li>
<li>« sur le plateau pour les verseaux » est un paquet de mots ;</li>
<li>« du Sornin » est un paquet de mots.</li>
</ol>
<p>Dans un paquet, on peut avoir plusieurs lignes de mots, séparées par
un retour à la ligne. Par exemple, dans le premier paquet ci-dessus, on
a trois lignes :</p>
<ol type="1">
<li>« il fait beau » ;</li>
<li>« son sang est chaud » ;</li>
<li>« elle descend dans le métro ».</li>
</ol>
<p>La fonction <code>lirePaquetsMots</code> doit donc lire le fichier et
renvoyer une <em>map</em> :</p>
<ul>
<li>dont chaque clé sera un entier représentant le numéro du paquet (0,
1, 2, …) ;</li>
<li>dont chaque valeur sera un paquet de mots, représenté par un tableau
(<em>slice</em>) dont chaque case contiendra une ligne du paquet.</li>
</ul>
<p>La fonction <code>main</code> affiche le contenu de la <em>map</em>
renvoyée par cette fonction, on <strong>devra</strong> donc obtenir
exactement l’affichage suivant pour le fichier <code>poemes1.txt</code>
:</p>
<pre class="text"><code>=&gt; les paquets de mots :
Paquet 0 :
- vers 0 : &quot;il fait beau&quot;
- vers 1 : &quot;son sang est chaud&quot;
- vers 2 : &quot;elle descend dans le métro&quot;
Paquet 1 :
- vers 0 : &quot;sur le plateau&quot;
- vers 1 : &quot;pour les verseaux&quot;
Paquet 2 :
- vers 0 : &quot;du Sornin&quot;</code></pre>
<p>On attire votre attention sur la méthode
<code>strings.TrimSpace</code> (<a
href="https://pkg.go.dev/strings#TrimSpace">voir sa documentation</a>)
applicable sur une chaîne de caractères et qui retire les espaces au
début et à la fin de la chaîne.</p>
<h4 id="question-2-2-pts">Question 2 <em>(2 pts)</em></h4>
<p>Compléter la fonction
<code>genererPoemes3Vers(paquet0, paquet1, paquet2 []string) [][]string</code>
qui prend trois paquets de mots en paramètres et renvoie un tableau
contenant tous les poèmes de trois vers créés à partir des trois paquets
passés en paramètres.</p>
<p>Chaque élément du tableau renvoyé est lui-même un tableau composé de
trois vers : le premier vers appartenant au premier paquet
<code>paquet0</code>, le deuxième vers appartenant au deuxième paquet
<code>paquet1</code> et le troisième vers appartenant au troisième
paquet <code>paquet2</code>.</p>
<p>Un vers correspondra ici à une ligne de mots dans le fichier passé
initialement à la fonction <code>lirePaquetsMots</code> de la question
précédente.</p>
<p>Par exemple, on <strong>devra</strong> obtenir exactement l’affichage
suivant pour le fichier <code>poemes1.txt</code> :</p>
<pre class="text"><code>=&gt; tous les poèmes de trois vers :
- il fait beau sur le plateau du Sornin
- il fait beau pour les verseaux du Sornin
- son sang est chaud sur le plateau du Sornin
- son sang est chaud pour les verseaux du Sornin
- elle descend dans le métro sur le plateau du Sornin
- elle descend dans le métro pour les verseaux du Sornin</code></pre>
<h3 id="deuxième-partie">Deuxième partie</h3>
<p>Cette partie est <strong>difficile</strong> : on vous recommande de
ne vous y lancer qu’après avoir traité correctement toutes les questions
précédentes, s’il vous reste du temps.</p>
<h4 id="question-3-3-pts">Question 3 <em>(3 pts)</em></h4>
<p>Compléter la fonction
<code>genererIndices(indicesMax []int) [][]int</code> qui produit un
tableau de tableaux contenant toutes les combinaisons de valeurs
inférieures ou égales aux maximums contenus dans le tableau passé en
paramètre <code>indicesMax</code>.</p>
<p>Par exemple, si <code>indicesMax</code> est <code>[2, 1, 0]</code>,
alors on <strong>devra</strong> obtenir l’affichage suivant’ :</p>
<pre class="text"><code>=&gt; la séquence d&#39;indices inférieurs à [2 1 0] :
[0 0 0]
[0 1 0]
[1 0 0]
[1 1 0]
[2 0 0]
[2 1 0]</code></pre>
<p>Indice : si vous ne voyez pas comment aborder cette question, on
recommande de diviser le travail en deux parties :</p>
<ol type="1">
<li>une fonction <code>plusUn(cour []int, indicesMax []int) []int</code>
qui prend en paramètre un tableau <code>cour</code> contenant l’état
actuel de l’énumération (c’est-à-dire la dernière ligne du tableau de
tableaux contenant l’énumération) et la fait progresser d’un pas : par
exemple, si <code>cour</code> contient <code>[1, 0, 0]</code> au début
de la fonction, alors il devra contenir <code>[1, 1, 0]</code> à la fin,
puis <code>[2, 0, 0]</code> à la fin de l’appel suivant et ainsi de
suite ;</li>
<li>la fonction <code>genererIndices</code> qui utilise
<code>plusUn</code> pour générer les tuples dans l’ordre attendu jusqu’à
la fin de l’énumération.</li>
</ol>
<h4 id="question-4-3-pts">Question 4 <em>(3 pts)</em></h4>
<p>Compléter la fonction
<code>tousLesPoemes(paquets map[int][]string) [][]string</code> qui
prend en paramètre une <em>map</em> contenant des paquets de mots (comme
renvoyé par la fonction <code>lirePaquetsMots</code> de la première
question) et renvoie un tableau contenant tous les poèmes possibles,
chaque poème étant construit en prenant un vers de chaque paquet de mots
et stocké dans un tableau (on renvoie donc un tableau de tableaux de
vers). Cette fonction utilisera la fonction <code>genererIndices</code>
de la question précédente.</p>
<p>Cette fonction <strong>devra</strong> produire l’affichage ci-dessous
pour le fichier <code>poemes1.txt</code> :</p>
<pre class="text"><code>=&gt; tous les poèmes :
- il fait beau sur le plateau du Sornin
- il fait beau pour les verseaux du Sornin
- son sang est chaud sur le plateau du Sornin
- son sang est chaud pour les verseaux du Sornin
- elle descend dans le métro sur le plateau du Sornin
- elle descend dans le métro pour les verseaux du Sornin</code></pre>
<p>Et l’affichage suivant pour le fichier <code>poemes2.txt</code> :</p>
<pre class="text"><code>=&gt; tous les poèmes :
- il fait beau sur le plateau du Larzac normal c&#39;est l&#39;été.
- il fait beau sur le plateau du Larzac car c&#39;est férié.
- il fait beau sur le plateau du Larzac parce qu&#39;AP1 est enfin terminé !
- il fait beau sur le plateau du Vercors normal c&#39;est l&#39;été.
- il fait beau sur le plateau du Vercors car c&#39;est férié.
- il fait beau sur le plateau du Vercors parce qu&#39;AP1 est enfin terminé !
- il fait beau pour les verseaux du Larzac normal c&#39;est l&#39;été.
- il fait beau pour les verseaux du Larzac car c&#39;est férié.
- il fait beau pour les verseaux du Larzac parce qu&#39;AP1 est enfin terminé !
- il fait beau pour les verseaux du Vercors normal c&#39;est l&#39;été.
- il fait beau pour les verseaux du Vercors car c&#39;est férié.
- il fait beau pour les verseaux du Vercors parce qu&#39;AP1 est enfin terminé !
- il fait beau au dessus des chevaux du Larzac normal c&#39;est l&#39;été.
- il fait beau au dessus des chevaux du Larzac car c&#39;est férié.
- il fait beau au dessus des chevaux du Larzac parce qu&#39;AP1 est enfin terminé !
- il fait beau au dessus des chevaux du Vercors normal c&#39;est l&#39;été.
- il fait beau au dessus des chevaux du Vercors car c&#39;est férié.
- il fait beau au dessus des chevaux du Vercors parce qu&#39;AP1 est enfin terminé !
- son sang est chaud sur le plateau du Larzac normal c&#39;est l&#39;été.
- son sang est chaud sur le plateau du Larzac car c&#39;est férié.
- son sang est chaud sur le plateau du Larzac parce qu&#39;AP1 est enfin terminé !
- son sang est chaud sur le plateau du Vercors normal c&#39;est l&#39;été.
- son sang est chaud sur le plateau du Vercors car c&#39;est férié.
- son sang est chaud sur le plateau du Vercors parce qu&#39;AP1 est enfin terminé !
- son sang est chaud pour les verseaux du Larzac normal c&#39;est l&#39;été.
- son sang est chaud pour les verseaux du Larzac car c&#39;est férié.
- son sang est chaud pour les verseaux du Larzac parce qu&#39;AP1 est enfin terminé !
- son sang est chaud pour les verseaux du Vercors normal c&#39;est l&#39;été.
- son sang est chaud pour les verseaux du Vercors car c&#39;est férié.
- son sang est chaud pour les verseaux du Vercors parce qu&#39;AP1 est enfin terminé !
- son sang est chaud au dessus des chevaux du Larzac normal c&#39;est l&#39;été.
- son sang est chaud au dessus des chevaux du Larzac car c&#39;est férié.
- son sang est chaud au dessus des chevaux du Larzac parce qu&#39;AP1 est enfin terminé !
- son sang est chaud au dessus des chevaux du Vercors normal c&#39;est l&#39;été.
- son sang est chaud au dessus des chevaux du Vercors car c&#39;est férié.
- son sang est chaud au dessus des chevaux du Vercors parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro sur le plateau du Larzac normal c&#39;est l&#39;été.
- elle descend dans le métro sur le plateau du Larzac car c&#39;est férié.
- elle descend dans le métro sur le plateau du Larzac parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro sur le plateau du Vercors normal c&#39;est l&#39;été.
- elle descend dans le métro sur le plateau du Vercors car c&#39;est férié.
- elle descend dans le métro sur le plateau du Vercors parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro pour les verseaux du Larzac normal c&#39;est l&#39;été.
- elle descend dans le métro pour les verseaux du Larzac car c&#39;est férié.
- elle descend dans le métro pour les verseaux du Larzac parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro pour les verseaux du Vercors normal c&#39;est l&#39;été.
- elle descend dans le métro pour les verseaux du Vercors car c&#39;est férié.
- elle descend dans le métro pour les verseaux du Vercors parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro au dessus des chevaux du Larzac normal c&#39;est l&#39;été.
- elle descend dans le métro au dessus des chevaux du Larzac car c&#39;est férié.
- elle descend dans le métro au dessus des chevaux du Larzac parce qu&#39;AP1 est enfin terminé !
- elle descend dans le métro au dessus des chevaux du Vercors normal c&#39;est l&#39;été.
- elle descend dans le métro au dessus des chevaux du Vercors car c&#39;est férié.
- elle descend dans le métro au dessus des chevaux du Vercors parce qu&#39;AP1 est enfin terminé !</code></pre>

</main>
<div><br></div>
</body>
</html>
